<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aè‚¡å…¨å¸‚åœºå…¨æ™¯æ•°æ®åº“</title>
    <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
    <style>
        body { font-family: sans-serif; padding: 0; margin: 0; background: #f4f6f8; }
        .header-container { background: #fff; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .title { margin: 0; color: #333; }
        .subtitle { color: #666; font-size: 0.9em; margin-top: 5px; }
        #wrapper { padding: 0 20px 20px 20px; }
        /* ä¼˜åŒ–è¡¨æ ¼æ˜¾ç¤º */
        .gridjs-th { font-size: 13px; background-color: #f9f9f9; }
        .gridjs-td { font-size: 13px; font-family: Consolas, monospace; }
    </style>
</head>
<body>
    <div class="header-container">
        <h2 class="title">ğŸ“ˆ Aè‚¡å…¨å¸‚åœºå…¨æ™¯æ•°æ®åº“</h2>
        <div class="subtitle">æ•°æ®æ¯æ—¥ 16:00 è‡ªåŠ¨æ›´æ–° | æºè‡ª GitHub Actions</div>
    </div>

    <div id="wrapper"></div>

    <script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
    <script>
        fetch('./data.json')
            .then(res => res.json())
            .then(data => {
                if (!data.length) return;
                
                // æ™ºèƒ½ç”Ÿæˆåˆ—é…ç½®ï¼šå†»ç»“å‰ä¸¤åˆ—ï¼ˆä»£ç ã€åç§°ï¼‰
                const keys = Object.keys(data[0]);
                const columns = keys.map((key, index) => {
                    return {
                        name: key,
                        id: key,
                        width: index < 2 ? '100px' : '120px', // åŸºç¡€åˆ—å®½
                    };
                });

                new gridjs.Grid({
                    columns: columns,
                    data: data,
                    search: true,
                    pagination: { limit: 15 },
                    sort: true,
                    fixedHeader: true,
                    height: '80vh', // å›ºå®šé«˜åº¦ï¼Œè¡¨æ ¼å†…éƒ¨æ»šåŠ¨
                    resizable: true,
                    language: {
                        'search': { 'placeholder': 'ğŸ” è¾“å…¥ä»£ç æˆ–åç§°...' },
                        'pagination': { 'previous': 'ä¸Šé¡µ', 'next': 'ä¸‹é¡µ', 'showing': 'æ˜¾ç¤º', 'results': 'æ¡' }
                    }
                }).render(document.getElementById("wrapper"));
            })
            .catch(err => alert("æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨ååˆ·æ–°"));
    </script>
</body>
</html>